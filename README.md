# ğŸ› ï¸ Syuan-Plugin

> ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„è‡ªç”¨å·¥å…·ç»¼åˆæ’ä»¶ï¼Œä¸ºYunzai-Botæä¾›SSHè¿œç¨‹ç®¡ç†å’Œç¾¤æ¬¢è¿è¯ç­‰å®ç”¨åŠŸèƒ½ã€‚

[![Node.js](https://img.shields.io/badge/Node.js-16%2B-green.svg)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-ISC-blue.svg)](LICENSE)
[![Package Manager](https://img.shields.io/badge/Package%20Manager-pnpm-orange.svg)](https://pnpm.io/)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”— SSHè¿œç¨‹ç®¡ç†
- **å‘½ä»¤**: `#memenew`
- **åŠŸèƒ½**: é€šè¿‡SSHè¿æ¥è¿œç¨‹æœåŠ¡å™¨ï¼Œæ‰¹é‡æ›´æ–°æ‰€æœ‰memeä»“åº“
- **ç‰¹ç‚¹**: 
  - å®‰å…¨çš„é…ç½®æ–‡ä»¶ç®¡ç†
  - å®æ—¶åé¦ˆè¿æ¥çŠ¶æ€
  - è‡ªåŠ¨å¤„ç†Gitä»“åº“æ›´æ–°

### ğŸ’¬ ç¾¤æ¬¢è¿è¯ç®¡ç†
- **å‘½ä»¤**: `#è®¾ç½®ç¾¤æ¬¢è¿è¯[ç¾¤å·]`ã€`#ç¾¤æ¬¢è¿è¯`
- **åŠŸèƒ½**: ä¸ºä¸åŒç¾¤ç»„è®¾ç½®å’Œç®¡ç†è‡ªå®šä¹‰æ¬¢è¿è¯
- **ç‰¹ç‚¹**:
  - æ”¯æŒå¤šç¾¤ç»„é…ç½®
  - æƒé™æ§åˆ¶
  - æ•°æ®æŒä¹…åŒ–å­˜å‚¨

### ğŸ“š æ’ä»¶å·¥å…·
- **å‘½ä»¤**: `#æ’ä»¶åº“`
- **åŠŸèƒ½**: å¿«é€Ÿè·å–Yunzaiæ’ä»¶åº“é“¾æ¥

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- Yunzai-Bot
- pnpm (æ¨è) æˆ– npm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®åˆ°æ’ä»¶ç›®å½•**
```bash
cd Yunzai-Bot/plugins
git clone https://github.com/lingyatou/syuan-plugin.git
cd syuan-plugin
```

2. **å®‰è£…ä¾èµ–**
```bash
pnpm install
# æˆ–è€…ä½¿ç”¨ npm
npm install
```

3. **é…ç½®SSHè¿æ¥**
   
   åœ¨ `data/Syuan-plugin/` ç›®å½•ä¸‹åˆ›å»º `sshInfo.json`:
```json
{
  "host": "your-server-ip",
  "port": 22,
  "username": "your-username",
  "password": "your-password",
  "description": "SSHæœåŠ¡å™¨é…ç½®"
}
```

4. **é…ç½®æ’ä»¶è®¾ç½®**
   
   ç¼–è¾‘ `config/cfg.yaml`:
```yaml
allowlist: [12345, 67890]  # å…è®¸ä½¿ç”¨çš„ç¾¤ç»„
denylist: []               # ç¦æ­¢ä½¿ç”¨çš„ç¾¤ç»„
```

5. **é‡å¯Yunzai-Bot**

## ğŸ“ é¡¹ç›®ç»“æ„

```
syuan-plugin/
â”œâ”€â”€ apps/                   # æ’ä»¶æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ index.js           # åº”ç”¨å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ ssh.js             # SSHè¿œç¨‹ç®¡ç†
â”‚   â””â”€â”€ welcome.js         # ç¾¤æ¬¢è¿è¯ç®¡ç†
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ cfg.yaml           # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ tools/                  # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ index.js           # å·¥å…·å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ cfg.js             # é…ç½®æ–‡ä»¶è¯»å†™
â”‚   â”œâ”€â”€ data.js            # SSHé…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ path.js            # è·¯å¾„å·¥å…·
â”‚   â””â”€â”€ version.js         # ç‰ˆæœ¬ä¿¡æ¯ç®¡ç†
â”œâ”€â”€ index.js               # æ’ä»¶ä¸»å…¥å£
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â””â”€â”€ README.md              # è¯´æ˜æ–‡æ¡£
```

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### SSHè¿œç¨‹æ›´æ–°
```
#memenew
```
è¯¥å‘½ä»¤å°†ï¼š
1. è¯»å–SSHé…ç½®æ–‡ä»¶
2. è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨
3. éå† `/root/meme-data/memes/` ç›®å½•ä¸‹çš„æ‰€æœ‰Gitä»“åº“
4. æ‰§è¡Œ `git fetch --all` å’Œ `git reset --hard origin/HEAD`
5. è¿”å›æ›´æ–°ç»“æœ

### ç¾¤æ¬¢è¿è¯ç®¡ç†
```
#è®¾ç½®ç¾¤æ¬¢è¿è¯123456     # ä¸ºæŒ‡å®šç¾¤è®¾ç½®æ¬¢è¿è¯
#è®¾ç½®ç¾¤æ¬¢è¿è¯           # ä¸ºå½“å‰ç¾¤è®¾ç½®æ¬¢è¿è¯
#ç¾¤æ¬¢è¿è¯               # æŸ¥çœ‹æ‰€æœ‰ç¾¤æ¬¢è¿è¯
```

### è·å–æ’ä»¶åº“
```
#æ’ä»¶åº“
```

## âš™ï¸ é…ç½®è¯´æ˜

### SSHé…ç½® (`data/Syuan-plugin/sshInfo.json`)
```json
{
  "host": "æœåŠ¡å™¨IPåœ°å€",
  "port": 22,
  "username": "ç”¨æˆ·å",
  "password": "å¯†ç ",
  "description": "é…ç½®æè¿°",
  "lastUpdated": "2024-01-01T00:00:00.000Z"
}
```

### æ’ä»¶é…ç½® (`config/cfg.yaml`)
```yaml
# å…è®¸ä½¿ç”¨æ’ä»¶çš„ç¾¤ç»„åˆ—è¡¨
allowlist: [ç¾¤å·1, ç¾¤å·2]

# ç¦æ­¢ä½¿ç”¨æ’ä»¶çš„ç¾¤ç»„åˆ—è¡¨  
denylist: [ç¾¤å·3, ç¾¤å·4]

```

## ğŸ”§ å¼€å‘

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `apps/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„åŠŸèƒ½æ¨¡å—
2. åœ¨ `apps/index.js` ä¸­å¯¼å‡ºæ–°æ¨¡å—
3. æ›´æ–°ç›¸å…³é…ç½®å’Œæ–‡æ¡£


## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ”— SSHè¿œç¨‹ä»“åº“æ›´æ–°åŠŸèƒ½
- ğŸ’¬ ç¾¤æ¬¢è¿è¯ç®¡ç†åŠŸèƒ½
- ğŸ“š æ’ä»¶åº“å¿«é€Ÿè®¿é—®

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„ä¿®æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ä¸€ä¸ªPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ ISC è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**æºSyuan** - *é¡¹ç›®åˆ›å»ºè€…å’Œç»´æŠ¤è€…*

## ğŸ™ è‡´è°¢

- [Yunzai-Bot](https://github.com/TimeRainStarSky/Yunzai) - ä¼˜ç§€çš„QQæœºå™¨äººæ¡†æ¶
- [miao-plugin](https://github.com/yoimiya-kokomi/miao-plugin) - å–µå–µæ’ä»¶

## âš ï¸ å…è´£å£°æ˜

æœ¬æ’ä»¶ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ã€‚ä½¿ç”¨æœ¬æ’ä»¶æ‰€äº§ç”Ÿçš„ä»»ä½•é—®é¢˜ï¼Œä½œè€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­**

Made with â¤ï¸ by [æºSyuan](https://github.com/lingyatou)

</div>
